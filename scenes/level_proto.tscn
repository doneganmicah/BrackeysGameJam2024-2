[gd_scene load_steps=16 format=4 uid="uid://owhd7frdhx34"]

[ext_resource type="PackedScene" uid="uid://cj77wxhaj87aq" path="res://scenes/player.tscn" id="1_03mbu"]
[ext_resource type="Script" path="res://scripts/game_controller.gd" id="1_jutxf"]
[ext_resource type="Texture2D" uid="uid://ce2dm51tinu22" path="res://assets/placeholder_assets/LevelBlocking.png" id="2_kjxbd"]
[ext_resource type="PhysicsMaterial" uid="uid://db7taetd4wmjn" path="res://materials/physics/phy_mat_bucket.tres" id="3_gx86n"]
[ext_resource type="Texture2D" uid="uid://cigtt0p6jyn1" path="res://assets/placeholder_assets/placeholder_blocks.png" id="3_haerj"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_kpago"]
texture = ExtResource("2_kjxbd")
0:0/0 = 0
0:0/0/z_index = 12
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(2, -5, 8, -5, 8, 8, 2, 8)
1:0/0 = 0
1:0/0/z_index = 1
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -5, 8, -5, 8, 0, -8, 0)
2:0/0 = 0
2:0/0/z_index = 12
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -5, -2, -5, -2, 8, -8, 8)
0:1/0 = 0
0:1/0/z_index = 12
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(2, -8, 8, -8, 8, 8, 2, 8)
1:1/0 = 0
2:1/0 = 0
2:1/0/z_index = 12
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, -2, -8, -2, 8, -8, 8)
0:2/0 = 0
0:2/0/z_index = 12
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(2, -8, 8, -8, 8, 5, 2, 5)
1:2/0 = 0
1:2/0/z_index = 12
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -4.5, 8, -4.5, 8, 5, -8, 5)
2:2/0 = 0
2:2/0/z_index = 12
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, -2, -8, -2, 5, -8, 5)

[sub_resource type="TileSet" id="TileSet_ccmty"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_kpago")

[sub_resource type="GDScript" id="GDScript_tcg43"]
script/source = "extends Timer
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_u2cw6"]
size = Vector2(7.98615, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_nahdy"]
atlas = ExtResource("3_haerj")
region = Rect2(0, 112, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_xg633"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nahdy")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0w5v5"]
size = Vector2(16, 79.75)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nkqmx"]
size = Vector2(16, 80)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vrast"]
size = Vector2(127, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0aj16"]
size = Vector2(128, 16)

[node name="LevelProto" type="Node2D"]

[node name="Player" parent="." instance=ExtResource("1_03mbu")]
y_sort_enabled = true
disable_mode = 0
collision_layer = 3

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(4, 4)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
z_index = 1
tile_map_data = PackedByteArray("AAD7/wQAAAABAAIAAAD8/wQAAAABAAIAAAD9/wQAAAABAAIAAAD+/wQAAAABAAIAAAD//wQAAAABAAIAAAAAAAQAAAABAAIAAAABAAQAAAABAAIAAAACAAQAAAABAAIAAAADAAQAAAABAAIAAAAEAAQAAAABAAIAAAD7//3/AAABAAEAAAD7//7/AAABAAEAAAD7////AAABAAEAAAD7/wAAAAABAAEAAAD7/wEAAAABAAEAAAD7/wIAAAABAAEAAAD7/wMAAAABAAEAAAD8//3/AAABAAEAAAD8//7/AAABAAEAAAD8////AAABAAEAAAD8/wAAAAABAAEAAAD8/wEAAAABAAEAAAD8/wIAAAABAAEAAAD8/wMAAAABAAEAAAD9//3/AAABAAEAAAD9//7/AAABAAEAAAD9////AAABAAEAAAD9/wAAAAABAAEAAAD9/wEAAAABAAEAAAD9/wIAAAABAAEAAAD9/wMAAAABAAEAAAD+//3/AAABAAEAAAD+//7/AAABAAEAAAD+////AAABAAEAAAD+/wAAAAABAAEAAAD+/wEAAAABAAEAAAD+/wIAAAABAAEAAAD+/wMAAAABAAEAAAD///3/AAABAAEAAAD///7/AAABAAEAAAD/////AAABAAEAAAD//wAAAAABAAEAAAD//wEAAAABAAEAAAD//wIAAAABAAEAAAD//wMAAAABAAEAAAAAAP3/AAABAAEAAAAAAP7/AAABAAEAAAAAAP//AAABAAEAAAAAAAAAAAABAAEAAAAAAAEAAAABAAEAAAAAAAIAAAABAAEAAAAAAAMAAAABAAEAAAABAP3/AAABAAEAAAABAP7/AAABAAEAAAABAP//AAABAAEAAAABAAAAAAABAAEAAAABAAEAAAABAAEAAAABAAIAAAABAAEAAAABAAMAAAABAAEAAAACAP3/AAABAAEAAAACAP7/AAABAAEAAAACAP//AAABAAEAAAACAAAAAAABAAEAAAACAAEAAAABAAEAAAACAAIAAAABAAEAAAACAAMAAAABAAEAAAADAP3/AAABAAEAAAADAP7/AAABAAEAAAADAP//AAABAAEAAAADAAAAAAABAAEAAAADAAEAAAABAAEAAAADAAIAAAABAAEAAAADAAMAAAABAAEAAAAEAP3/AAABAAEAAAAEAP7/AAABAAEAAAAEAP//AAABAAEAAAAEAAAAAAABAAEAAAAEAAEAAAABAAEAAAAEAAIAAAABAAEAAAAEAAMAAAABAAEAAAD6//z/AAAAAAAAAAAFAPz/AAACAAAAAAD7//z/AAABAAAAAAD8//z/AAABAAAAAAD9//z/AAABAAAAAAD+//z/AAABAAAAAAD///z/AAABAAAAAAAAAPz/AAABAAAAAAABAPz/AAABAAAAAAACAPz/AAABAAAAAAADAPz/AAABAAAAAAAEAPz/AAABAAAAAAAFAP3/AAACAAEAAAAFAP7/AAACAAEAAAAFAP//AAACAAEAAAAFAAAAAAACAAEAAAAFAAEAAAACAAEAAAAFAAIAAAACAAEAAAAFAAMAAAACAAEAAAD6//3/AAAAAAEAAAD6//7/AAAAAAEAAAD6////AAAAAAEAAAD6/wAAAAAAAAEAAAD6/wEAAAAAAAEAAAD6/wIAAAAAAAEAAAD6/wMAAAAAAAEAAAD6/wQAAAAAAAIAAAAFAAQAAAACAAIAAAA=")
tile_set = SubResource("TileSet_ccmty")

[node name="Layout" type="Node" parent="."]

[node name="Kitchen" type="Polygon2D" parent="Layout"]
z_index = 1
position = Vector2(-48, -35)
scale = Vector2(3.1, 1.2)
color = Color(0.517647, 0, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 10, -10, 10)

[node name="Carpet" type="Polygon2D" parent="Layout"]
z_index = 2
position = Vector2(0, 8)
scale = Vector2(4.7, 2.3)
color = Color(0.517647, 0, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 9.19758, 10, 10, -10, 10)

[node name="BackDoor" type="Polygon2D" parent="Layout"]
z_index = 2
position = Vector2(24, -40)
scale = Vector2(2.3, 0.7)
color = Color(0.517647, 0, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 10, -10, 10)

[node name="FrontDoor" type="Polygon2D" parent="Layout"]
z_index = 2
position = Vector2(-72, 48)
scale = Vector2(0.7, 1.5)
color = Color(0.517647, 0, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 10, -10, 10)

[node name="Interactions" type="Node" parent="."]

[node name="Laptop" type="Polygon2D" parent="Interactions"]
z_index = 2
position = Vector2(0, 56)
scale = Vector2(1, 0.5)
color = Color(0, 0.654902, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 10, -10, 10)

[node name="Bucket" type="Polygon2D" parent="Interactions"]
z_index = 2
position = Vector2(26, 10)
scale = Vector2(0.6, 0.6)
color = Color(0, 0.654902, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 10, -10, 10)

[node name="Hazards" type="Node" parent="."]

[node name="PatioDoor" type="Polygon2D" parent="Hazards"]
z_index = 2
position = Vector2(24, -44)
scale = Vector2(1.55, 0.3)
color = Color(1, 0.654902, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 10, -10, 10)

[node name="Breaker" type="Polygon2D" parent="Hazards"]
z_index = 2
position = Vector2(-78.5, 8)
scale = Vector2(0.55, 0.7)
color = Color(1, 0.654902, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 10, -10, 10)

[node name="Router" type="Polygon2D" parent="Hazards"]
z_index = 2
position = Vector2(71.75, -40)
scale = Vector2(0.725, 0.7)
color = Color(1, 0.654902, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 10, -10, 10)

[node name="PowerStrips" type="Node" parent="Hazards"]

[node name="Strip1" type="Polygon2D" parent="Hazards/PowerStrips"]
z_index = 2
position = Vector2(-50, 14)
rotation = -0.590766
scale = Vector2(0.125, 0.35)
color = Color(1, 0.654902, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 10, -10, 10)

[node name="Strip2" type="Polygon2D" parent="Hazards/PowerStrips"]
z_index = 2
position = Vector2(-24, -17)
rotation = -0.157832
scale = Vector2(0.125, 0.35)
color = Color(1, 0.654902, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 10, -10, 10)

[node name="Strip3" type="Polygon2D" parent="Hazards/PowerStrips"]
z_index = 2
position = Vector2(44, -15)
rotation = 0.37193
scale = Vector2(0.125, 0.35)
color = Color(1, 0.654902, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 10, -10, 10)

[node name="Strip4" type="Polygon2D" parent="Hazards/PowerStrips"]
z_index = 2
position = Vector2(51, 22)
rotation = 0.67993
scale = Vector2(0.125, 0.35)
color = Color(1, 0.654902, 0, 1)
polygon = PackedVector2Array(-10, -10, 10, -10, 10, 10, -10, 10)

[node name="GameHandler" type="Node" parent="." node_paths=PackedStringArray("_player", "_interval_timer")]
script = ExtResource("1_jutxf")
_time_multiplier = 10
_player = NodePath("../Player")
_interval_timer = NodePath("Timer")

[node name="Timer" type="Timer" parent="GameHandler"]
script = SubResource("GDScript_tcg43")

[node name="WaterBucketTest" type="Node" parent="."]

[node name="RigidBody2D" type="RigidBody2D" parent="WaterBucketTest" groups=["Bucket"]]
z_index = 10
y_sort_enabled = true
position = Vector2(-14, 6)
scale = Vector2(1.00173, 1)
collision_layer = 2
collision_mask = 2
physics_material_override = ExtResource("3_gx86n")
gravity_scale = 0.0
lock_rotation = true
linear_damp = 5.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="WaterBucketTest/RigidBody2D"]
y_sort_enabled = true
position = Vector2(1.90735e-06, 4)
shape = SubResource("RectangleShape2D_u2cw6")
one_way_collision_margin = 0.0

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="WaterBucketTest/RigidBody2D"]
y_sort_enabled = true
sprite_frames = SubResource("SpriteFrames_xg633")
autoplay = "default"

[node name="StaticBody2D" type="StaticBody2D" parent="WaterBucketTest"]
position = Vector2(163, 20)
collision_layer = 2
collision_mask = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="WaterBucketTest/StaticBody2D"]
position = Vector2(0, 8)
scale = Vector2(4.74314, 2.32)
polygon = PackedVector2Array(-11.8065, -14.2241, -11.8065, 13.7931, 11.8065, 13.7931, 11.8065, 5.17241, 9.90905, 5.17241, 9.90905, 9.91379, -9.90905, 9.91379, -9.90905, -9.91379, 9.90905, -9.91379, 9.90905, 5.17241, 11.8065, 5.17241, 11.8065, -14.2241)

[node name="StaticBody2D2" type="StaticBody2D" parent="WaterBucketTest"]
z_index = 5
position = Vector2(0, 5)
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="WaterBucketTest/StaticBody2D2"]
z_index = 10
position = Vector2(-56, 2.875)
shape = SubResource("RectangleShape2D_0w5v5")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="WaterBucketTest/StaticBody2D2"]
z_index = 23
position = Vector2(56, 3)
shape = SubResource("RectangleShape2D_nkqmx")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="WaterBucketTest/StaticBody2D2"]
z_index = 5
position = Vector2(-0.5, -29)
shape = SubResource("RectangleShape2D_vrast")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="WaterBucketTest/StaticBody2D2"]
z_index = 5
position = Vector2(0, 35)
shape = SubResource("RectangleShape2D_0aj16")

[connection signal="timeout" from="GameHandler/Timer" to="GameHandler" method="_on_timer_timeout"]
